"use strict";(self.webpackChunkdndocs=self.webpackChunkdndocs||[]).push([[9774],{1257:(e,t,n)=>{n.d(t,{J:()=>l});var r=n(7294),s=n(9521);const a=()=>({}),l=e=>{let{columns:t,data:n,getHeaderProps:l=a,getColumnProps:o=a}=e;const{getTableProps:c,getTableBodyProps:p,headerGroups:u,rows:d,prepareRow:i}=(0,s.useTable)({columns:t,data:n},s.useSortBy);return r.createElement("table",c(),r.createElement("thead",null,u.map((e=>r.createElement("tr",e.getHeaderGroupProps(),e.headers.map((e=>r.createElement("th",e.getHeaderProps([{className:e.className},l(e),o(e),e.getSortByToggleProps()]),e.render("Header"),r.createElement("span",null,e.isSorted?e.isSortedDesc?" \u25bc":" \u25b2":"")))))))),r.createElement("tbody",p(),d.map(((e,t)=>(i(e),r.createElement("tr",e.getRowProps(),e.cells.map((e=>r.createElement("td",e.getCellProps([{className:e.column.className,style:e.column.style},o(e.column)]),e.render("Cell"))))))))))}},2010:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>p,default:()=>v,frontMatter:()=>c,metadata:()=>u,toc:()=>i});var r=n(7462),s=(n(7294),n(3905)),a=n(1257);const l=[{event:"CoreServiceStartEvent",description:"Est appel\xe9 lorsqu'un service est d\xe9marr\xe9."},{event:"CoreServiceStopEvent",description:"Est appel\xe9 lorsqu'un service est stopp\xe9."},{event:"CoreServiceLinkedEvent",description:"Est appel\xe9 lorsqu'un service est li\xe9 \xe0 l'hyperviseur."},{event:"CoreCommandExecuteEvent",description:"Est appel\xe9 lorsqu'une commande est execut\xe9 sur l'hyperviseur."},{event:"CoreScreenCreateEvent",description:"Est appel\xe9 lorsqu'un screen est cr\xe9e."}],o=[{Header:"\xc9venements",accessor:"event",className:"pester-data-table left"},{Header:"Description",accessor:"description",className:"pester-data-table left"}],c={sidebar_position:2},p="L'\xe9coute des \xe9venements",u={unversionedId:"For developpers/Addon/Events",id:"For developpers/Addon/Events",title:"L'\xe9coute des \xe9venements",description:"Vous pouvez gerez les \xe9venements dans l'hyperviseur",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/For developpers/Addon/Events.mdx",sourceDirName:"For developpers/Addon",slug:"/For developpers/Addon/Events",permalink:"/fr/docs/For developpers/Addon/Events",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/For developpers/Addon/Events.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Pour commencer",permalink:"/fr/docs/For developpers/Addon/get-started"},next:{title:"Commandes",permalink:"/fr/docs/For developpers/Addon/Commands"}},d={},i=[{value:"Enregistrement",id:"enregistrement",level:3},{value:"Cr\xe9er des \xe9venements customis\xe9.",id:"cr\xe9er-des-\xe9venements-customis\xe9",level:3}],m={toc:i};function v(e){let{components:t,...n}=e;return(0,s.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"l\xe9coute-des-\xe9venements"},"L'\xe9coute des \xe9venements"),(0,s.kt)("p",null,"Vous pouvez gerez les \xe9venements dans l'hyperviseur"),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},'Cr\xe9ez une classe pour votre commandes et impl\xe9ment\xe9 l\xe0 par la classe "Listener" du package be.alexandre01.dreamnetwork')),(0,s.kt)("p",null,"Exemple"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-java"},"public class CustomListener implements Listener {\n\n}    \n")),(0,s.kt)("p",null,"Pour capturer un event vous devez annoter une methode avec ",(0,s.kt)("strong",{parentName:"p"},"@EventCatcher")," et mettre dans les param\xe8tres de la fonction cr\xe9e un object \xe9tendue par la classe Event."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-java"},'@EventCatcher\npublic void onServiceStart(CoreServiceStartEvent e){\n    System.out.println("Un nouveau serveur c\'est allum\xe9, son nom est "+ e.getService().getJvmExecutor().getName() +" et son ID est "+ e.getService().getId());\n}\n')),(0,s.kt)(a.J,{columns:o,data:l,mdxType:"PesterDataTable"}),(0,s.kt)("h3",{id:"enregistrement"},"Enregistrement"),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},"Une fois la classe cr\xe9\xe9e il vous faut l'enregistrer grace \xe0 la DNClientAPI et \xe0 la m\xe9thode getEventsFactory")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-java"},"@Override\npublic void start() {\n    // code en haut\n\n    getDnClientAPI().getEventsFactory().registerListener(new CustomListener());\n}\n")),(0,s.kt)("h3",{id:"cr\xe9er-des-\xe9venements-customis\xe9"},"Cr\xe9er des \xe9venements customis\xe9."),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},"Pour ceci cr\xe9e une classe qui s'\xe9tend de l'objet Event")),(0,s.kt)("p",null,"Exemple: "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-java"},"public class BonjourEvent extends Event {\n    @Getter private String message;\n\n    public BonjourEvent(String message) {\n        this.message = message;\n    }\n}\n")),(0,s.kt)("p",null,"Et lorsque vous avez besoin de l'appeler vous devez faire un callEvent depuis la m\xe9thode getEventsFactory."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-java"},'DNClientAPI.getInstance().getEventsFactory().callEvent(new BonjourEvent("Bonjour"));\n')),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"RIEN DE PLUS SIMPLE !")),(0,s.kt)("p",null,"Vous pouvez impl\xe9menter la classe Cancellable pour faire un event qui peut etre annul\xe9."),(0,s.kt)("p",null,"exemple: "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-java"},"@Getter\npublic class CoreCommandExecuteEvent extends Event implements Cancellable {\n    private boolean cancelled;\n    private String[] args;\n    private final DNClientAPI dnClientAPI;\n\n    public CoreCommandExecuteEvent(DNClientAPI dnClientAPI,String[] args) {\n        this.dnClientAPI = dnClientAPI;\n        this.args = args;\n    }\n\n    @Override\n    public boolean isCancelled() {\n        return cancelled;\n    }\n\n    @Override\n    public void setCancelled(boolean cancelled) {\n        this.cancelled = cancelled;\n    }\n}\n")),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},"lorsque vous l'appelez, proc\xe9dez comme ceci.")),(0,s.kt)("p",null,"Exemple: "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-java"},'CoreCommandExecuteEvent event = new CoreCommandExecuteEvent(client.getDnClientAPI(), args);\nclient.getEventsFactory().callEvent(event);\nif(event.isCancelled()){\n    Console.print("Command cancelled");\n    return;\n}\n// Faire l\'action\n')))}v.isMDXComponent=!0}}]);